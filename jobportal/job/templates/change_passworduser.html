{% load static %}
{% include 'user_navigation.html' %}

<!-- Marquee Section -->
<marquee style="font-family: 'Monotype-Corsiva'; font-size: 40px; color: white; background-color: black; font-weight: bold; margin-top: 1%">
    Change User Password
</marquee>

<hr>

<script>
    function checkpass() {
        // Check if new password and confirm password match
        if (document.changepassword.newpassword.value != document.changepassword.confirmpassword.value) {
            alert('New Password and Confirm Password should be the same!... Please correct it');
            document.changepassword.confirmpassword.focus();
            return false; // Prevent form submission if passwords don't match
        }
        return true; // Allow form submission if passwords match
    }
</script>

<!-- Admin Change Password Form -->
<div class="container mt-5">
    <form method="POST" onsubmit="return checkpass()" class="shadow p-4 rounded" style="background-color: #f2f2f2; max-width: 500px; margin: 0 auto;">
        {% csrf_token %}
        
        <h3 class="text-center mb-4" style="font-family: 'Dancing Script', cursive; color: maroon;">Change Admin Password</h3>

        {% if error %}
        <div class="alert alert-danger">
            {{ error }}
        </div>
        {% endif %}

        {% if success_message %}
        <div class="alert alert-success">
            {{ success_message }}
        </div>
        {% endif %}

        <div class="form-group">
            <label><b>Old Password</b></label>
            <input type="password" id="oldpassword" class="form-control" name="oldpassword" required>
        </div>

        <div class="form-group">
            <label><b>New Password</b></label>
            <input type="password" id="newpassword" class="form-control" name="newpassword" required>
        </div>

        <div class="form-group">
            <label><b>Confirm New Password</b></label>
            <input type="password" id="confirmpassword" class="form-control" name="confirmpassword" required>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-dark btn-block" style="font-size: 18px; padding: 15px; transition: background-color 0.3s;">
                Submit
            </button>
        </div>
    </form>
</div>

{% include "footer.html" %}
